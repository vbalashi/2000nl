{
  "project": "2000nl",
  "branchName": "ralph/data-quality-mobile-ux",
  "description": "Data Quality & Mobile UX Sprint - Filter cross-reference-only words and add mobile swipe gestures for improved learning experience",
  "userStories": [
    {
      "id": "US-020",
      "title": "Exclude words with only cross-reference",
      "description": "Words like 'bereid (werkwoord)' appear in the learning list but contain no actual definition—only a cross-reference to another word ('bereiden'). These should be detected and excluded from the learning queue. Detection pattern: cross_reference field is set (non-null) AND meanings array is empty.",
      "acceptanceCriteria": [
        "Words with cross_reference set AND meanings: [] empty are excluded from learning queue",
        "Filtering logic added to word selection/queue generation service",
        "No cross-reference-only words appear in training sessions",
        "Typecheck passes (npm run typecheck)",
        "Verify in browser using Chrome DevTools MCP that excluded words don't appear"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Example: word 'bereid' has cross_reference: 'bereiden' and meanings: []. Data location: /home/khrustal/dev/2000nl-ui/db/data/words_content/ (~18,000 JSON files). Add filter in trainingService.ts or similar. Option to resolve cross-reference to target word is future enhancement."
    },
    {
      "id": "US-031",
      "title": "Mobile swipe gestures for cards",
      "description": "Add intuitive swipe gestures on mobile devices for quick card responses. Left swipe → 'opniew' (again), Right swipe → 'goed' (correct). Reorganize buttons on mobile into 2 rows: Row 1 (opniew, goed) matching swipe directions, Row 2 (moeilijk, makkelijk). Desktop layout unchanged.",
      "acceptanceCriteria": [
        "Left swipe on card triggers 'opniew' (again) action",
        "Right swipe on card triggers 'goed' (correct) action",
        "Visual feedback during swipe (card follows finger, shows action indicator)",
        "Swipe must reach threshold (~30-40% of card width) to trigger (partial swipes cancel and return card to position)",
        "Mobile button layout: Row 1 (opniew, goed), Row 2 (moeilijk, makkelijk)",
        "Desktop layout unchanged (single row, 4 buttons)",
        "Buttons remain fully functional alongside swipe gestures",
        "Swipe sensitivity feels natural (not too easy or too hard to trigger)",
        "Typecheck passes (npm run typecheck)",
        "Verify on mobile device or mobile viewport using Chrome DevTools MCP"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Files to modify: apps/ui/components/training/TrainingScreen.tsx (swipe handlers), apps/ui/components/training/ButtonGroup.tsx or similar (button layout), CSS/styles for mobile-specific layout. Use React hooks for touch events. Animation: card slides with finger, snaps back on cancel, slides out on commit. Consider haptic feedback if browser supports it."
    }
  ],
  "technicalNotes": {
    "codebasePath": "/home/khrustal/dev/2000nl-ui/",
    "componentsPath": "apps/ui/components/training/",
    "servicePath": "apps/ui/lib/trainingService.ts",
    "dataPath": "/home/khrustal/dev/2000nl-ui/db/data/words_content/",
    "patterns": [
      "Type checking: npm run typecheck from apps/ui/ directory",
      "Use Chrome DevTools MCP for verification",
      "Mobile detection: viewport width or touch capability check",
      "Swipe threshold: ~30-40% of card width for activation"
    ],
    "crossReferencePattern": {
      "description": "Words with only cross-reference have cross_reference field set AND meanings: []",
      "example": "bereid (ww) → cross_reference: 'bereiden', meanings: []"
    },
    "mobileUx": {
      "swipeDirections": {
        "left": "opniew (again)",
        "right": "goed (correct)"
      },
      "buttonLayout": {
        "mobile": "2 rows - Row 1: opniew, goed | Row 2: moeilijk, makkelijk",
        "desktop": "1 row - all 4 buttons horizontal"
      }
    }
  },
  "totalStoryPoints": 6,
  "nonGoals": [
    "No changes to SRS algorithm",
    "No resolution of cross-references to target words (future enhancement)",
    "No keyboard navigation for swipe gestures",
    "Haptic feedback is optional enhancement"
  ]
}
